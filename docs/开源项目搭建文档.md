# 开源项目搭建文档

整理一下你的需求，把 **Windows 下部署 Docsify + 多文档展示 + 侧边栏问题** 简洁总结如下：

---

## Windows 下 Docsify 部署步骤

1. **安装 Node.js 和 npm**
   
   * 下载 Node.js 官方安装包并安装。
   
   * 可在命令行验证：
     
     ```bash
     node -v
     npm -v
     ```

2. **全局安装 Docsify CLI**
   
   * 用管理员权限打开 PowerShell：
     
     ```bash
     npm i docsify-cli -g
     ```
   
   * 遇到 EPERM 错误：
     
     * 以管理员权限运行；
     
     * 或修改 npm 全局缓存和目录：
       
       ```bash
       npm config set cache "C:\npm_cache"
       npm config set prefix "C:\npm_global"
       ```
       
       并把 `C:\npm_global` 加入 PATH。

3. **创建项目目录**
   
   ```bash
   mkdir docs
   cd docs
   docsify init .
   ```

4. **启动本地服务**
   
   ```bash
   docsify serve docs
   ```
   
   * 默认访问：`http://localhost:3000`

---

### 多文档展示与侧边栏

1. **多文档目录结构**

```
docs/
├─ README.md         # 首页
├─ docA.md
├─ docB.md
├─ folder/docC.md
├─ _sidebar.md
```

2. **_sidebar.md 配置**

```markdown
- [首页](README.md)
- [文档A](docA.md)
- [文档B](docB.md)
- [文档C](folder/docC.md)
```

3. **注意事项**
* Docsify 不能直接加载 index.html 上层目录的文件（AJAX 限制），需把文件放到 docs 内或使用软链接。
* 侧边栏标题需手动写，不会自动抓 H1。
* 可用 `subMaxLevel` 展开文件内 H2/H3 作为二级菜单：

```html
<script>
  window.$docsify = {
    loadSidebar: true,
    subMaxLevel: 2
  }
</script>
```

4. **常见问题解决**
* **文件不显示**：确认 `_sidebar.md` 路径正确、大小写无误、服务已启动。
* **上层文件加载失败**：把文件移到 docs 下或用软链接。
* **侧边栏显示标题**：手动在 `_sidebar.md` 写，或用 JS 自动抓 H1（需自定义插件）。
