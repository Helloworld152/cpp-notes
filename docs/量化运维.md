# é‡åŒ–è¿ç»´

### nanoæœåŠ¡å™¨è¿ç»´

äº¤æ˜“æ—¥å¿—ï¼š/home/zszq/orders/0050092888/ta*

é…ç½®ï¼š/home/zszq/orders/setting/0050092888.ini

äº¤æ˜“è®¢å•ï¼š/data/orders/algo_ALP/*.csv saveæ–‡ä»¶æ˜¯å·²æ‰§è¡Œçš„

æ‰§è¡Œäº¤æ˜“ï¼š/home/zszq/orders/trade_alp.py

## cron.py

## ğŸ“… å®šæ—¶ä»»åŠ¡æ˜ç»†

### 1. `07:51:06`

- è·¯å¾„ï¼š`/home/zszq/works/ctradeN/bin`

- è„šæœ¬ï¼š`daily_prod.py`

- ä½œç”¨ï¼šæ—¥å†…ç”Ÿäº§æ•°æ®åˆå§‹åŒ–ã€‚

---

### 2. `08:00:06`

- è·¯å¾„ï¼š`/home/zszq/works/ctradeN/bin`

- æ“ä½œï¼šæ‹·è´ `config.xml.algotick.20220418.prdN4N5.3m.L0.ONLINE` â†’ `config.xml`

- è„šæœ¬ï¼š`data_daily_begin.py`(æ¯å¤©æ›´æ–°config.xml, äº¤æ˜“æ—¥è®¾ä¸ºonlineæ¨¡å¼ï¼Œéäº¤æ˜“æ—¥è®¾ç½®æˆbacktestæ¨¡å¼ï¼Œä¸ç”¨è¿è¡Œ)

- å¯åŠ¨ï¼š`./cTrade`ï¼ˆç»‘æ ¸ 22,24ï¼‰

- ä½œç”¨ï¼šå¯åŠ¨ **4N5 ç®—æ³•äº¤æ˜“è¿›ç¨‹**ã€‚

---

### 3. `08:06:06`

- è·¯å¾„ï¼š`/home/zszq/works/ctradeN/python`

- è„šæœ¬ï¼š`vol_prd.py`ï¼ˆç»‘æ ¸ 26ï¼‰

- æ—¥å¿—ï¼š`../bin/log/vol_prd_YYYYMMDD`

- ä½œç”¨ï¼šè¿è¡Œæ—¥å†…æˆäº¤é‡é¢„æµ‹æ¨¡å—ã€‚

---

### 4. `09:27:06`

- è·¯å¾„ï¼š`/home/zszq/works/ctradeN/bin`

- æ“ä½œï¼šæ‹·è´ `config.xml.rawdata.rt` â†’ `config.xml`

- è„šæœ¬ï¼š`data_daily_begin_raw.py online`

- å¯åŠ¨ï¼š`./cTrade`ï¼ˆç»‘æ ¸ 28ï¼‰

- æ—¥å¿—ï¼š`./log/raw_rt_YYYYMMDD`

- ä½œç”¨ï¼šå¯åŠ¨ **å®ç›˜å®æ—¶è¡Œæƒ…é‡‡é›†**ã€‚

---

### 5. æ”¶ç›˜åé‡‡é›†è´¦æˆ·ä¿¡æ¯

- è·¯å¾„ï¼š`/home/zszq/works/ctradeN/bin`

- å¯åŠ¨ï¼š`./cTrade config.xml.trader.atp.output`ï¼ˆç»‘æ ¸ 35-36ï¼‰

- æ—¥å¿—ï¼š`./log/acct_info_YYYYMMDD`

- æ—¶é—´ç‚¹ï¼š
  
  - `15:03:16`
  
  - `15:15:06`
  
  - `16:30:08`

- ä½œç”¨ï¼šä¸‰æ¬¡é‡‡é›†è´¦æˆ·ä¿¡æ¯ï¼ˆä¿è¯å®Œæ•´æ€§ï¼‰ã€‚

---

## ğŸ”¹ ä¸€æ¬¡æ€§å¯åŠ¨ï¼ˆéå®šæ—¶ï¼‰

è„šæœ¬è¿è¡Œæ—¶ï¼Œè¿˜ä¼šæ‰§è¡Œä¸€æ¬¡ï¼š

- è·¯å¾„ï¼š`/home/zszq/works/ctradeN/python`

- æ€æ‰å·²æœ‰ `data_morning.py` è¿›ç¨‹

- å¯åŠ¨ï¼š`data_morning.py`ï¼ˆç»‘æ ¸ 20ï¼Œæ—¥å¿— `log_morning.log`ï¼‰

- ä½œç”¨ï¼šæ™¨é—´æ•°æ®å‡†å¤‡ï¼ˆå¼€ç›˜å‰æ•°æ®æ›´æ–°ï¼‰ã€‚

---

## âœ… æ€»ç»“ä¸€å¥è¯

**è¿™ä¸ªæ–‡ä»¶å°±æ˜¯äº¤æ˜“æ—¥è‡ªåŠ¨åŒ–è°ƒåº¦å™¨**ï¼š

- 07:51 â†’ åˆå§‹åŒ–æ—¥ç”Ÿäº§æ•°æ®

- 08:00 â†’ å¯åŠ¨ç®—æ³•äº¤æ˜“ï¼ˆ4N5ï¼‰

- 08:06 â†’ è·‘æˆäº¤é‡é¢„æµ‹

- 09:27 â†’ å¯åŠ¨å®æ—¶è¡Œæƒ…é‡‡é›†

- æ”¶ç›˜åä¸‰æ¬¡ â†’ å¯¼å‡ºè´¦æˆ·ä¿¡æ¯

- é¢å¤– â†’ æ¯æ¬¡å¯åŠ¨æ—¶å…ˆè·‘ `data_morning.py`ï¼Œåšæ™¨é—´å‡†å¤‡

## æ™¨é—´æ•°æ®å¤„ç†

### data_morning.py

è·¯å¾„ï¼š`/home/zszq/works/ctradeN/python/data_morning.py`

æ¯å¤©å¾ªç¯æ£€æµ‹å½“å¤©çš„å‹ç¼©åŒ…æ•°æ®ï¼ˆ`/data/efh/tar/æ—¥æœŸ.tar.gz`ï¼‰ï¼Œåœ¨ä¸åŒæ—¶é—´æ®µè‡ªåŠ¨æ‰§è¡Œï¼š

1. **è§£å‹æ•°æ®åŒ…**
   
   - å°† `æ—¥æœŸ.tar.gz` è§£å‹åˆ° `/data/efh/tar/æ—¥æœŸ/`ã€‚

2. **æ‹·è´å…ƒæ•°æ®**ï¼ˆåœ¨ 08:30 ä¹‹åï¼‰
   
   - `all/tkr.txt` â†’ `/data/efh/Meta/`
   
   - `all/universe_all.txt` â†’ `/data/efh/Meta/`
   
   - å¦‚æœæ˜¯å·¥ä½œæ—¥ï¼š
     
     - `dly/universe.txt.æ—¥æœŸ` â†’ `/data/efh/Univ/universe.txt.æ—¥æœŸ`

3. **æ‹·è´è¡Œæƒ…å’Œå› å­æ•°æ®**ï¼ˆ07:00â€“07:30 æˆ– 09:20 ä¹‹åï¼‰
   
   - `daily/*` â†’ `/data/efh/daily/`
   
   - `dailyfactor/*` â†’ `/data/efh/dailyfactor/`

4. **è¿è¡Œæ›´æ–°è„šæœ¬**
   
   - æ›´æ–°æ—¥è¡Œæƒ…ï¼š  
     `/opt/anaconda3/bin/python /home/zszq/works/ctradeN/python/daily_bar.py inc`
   
   - æ›´æ–°å› å­ï¼š  
     `/opt/anaconda3/bin/python /home/zszq/works/ctradeN/python/daily_factor.py inc`
   
   - è®¡ç®— Barra é£é™©æ¨¡å‹ï¼š  
     `/opt/anaconda3/bin/python /data/efh/barra/CNE6_20211006/model_cne6_linux_20220430.py`

5. **æ¸…ç†å’Œç­‰å¾…**
   
   - ä¸åŒæ—¶æ®µå¤„ç†å®Œä¼šåˆ é™¤å½“å¤©çš„ `.tar.gz`ï¼Œæ‰“å° `first/second/third finished...`ï¼Œå¹¶ç­‰å¾…åˆ°ä¸‹ä¸€æ—¶æ®µã€‚
